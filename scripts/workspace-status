#!/usr/bin/env python3
"""
Workspace status formatter for Claude Code status line.
Reads .nisaba/status_bar_live.json and formats for display.
"""
import json
import sys
from pathlib import Path


def format_status():
    """Read status JSON and format for display."""
    status_file = Path(".nisaba/tui/status_bar_live.txt")
    
    if not status_file.exists():
        print("WS: N/A")
        return
    
    try:
        print(status_file.read_text())
        
    except Exception as e:
        print(f"WS: Error - {e}", file=sys.stderr)
        print("WS: Error")

if __name__ == "__main__":
    format_status()
